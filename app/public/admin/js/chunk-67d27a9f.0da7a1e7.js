(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67d27a9f"],{"357b":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a-card",[o("div",{staticClass:"sp-btn"},[o("a-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v(t._s(t.$t("view.add")))])],1),o("a-list",{attrs:{grid:{gutter:15,column:3},"data-source":t.data},scopedSlots:t._u([{key:"renderItem",fn:function(e,a){return o("a-list-item",{},[o("a-card",{attrs:{title:"NO."+(a+1)}},[o("a-form-model",{ref:"listForm"+a,attrs:{rules:t.rules,model:e}},[o("a-form-model-item",t._b({attrs:{label:t.$t("view.connected")}},"a-form-model-item",t.formItemLayout,!1),[o("a-switch",{attrs:{disabled:""},model:{value:e.connected,callback:function(o){t.$set(e,"connected",o)},expression:"item.connected"}})],1),o("a-form-model-item",t._b({attrs:{prop:"host",label:"Host"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:e.host,callback:function(o){t.$set(e,"host",o)},expression:"item.host"}})],1),o("a-form-model-item",t._b({attrs:{prop:"port",label:"Port"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:e.port,callback:function(o){t.$set(e,"port",o)},expression:"item.port"}})],1),o("a-form-model-item",t._b({attrs:{prop:"username",label:"Username"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:e.username,callback:function(o){t.$set(e,"username",o)},expression:"item.username"}})],1),o("a-form-model-item",t._b({attrs:{prop:"password",label:"Password"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:e.password,callback:function(o){t.$set(e,"password",o)},expression:"item.password"}})],1),o("a-form-model-item",t._b({attrs:{prop:"mountpoint",label:"Mountpoint"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:e.mountpoint,callback:function(o){t.$set(e,"mountpoint",o)},expression:"item.mountpoint"}})],1),o("a-form-model-item",t._b({attrs:{prop:"enable",label:"Enable"}},"a-form-model-item",t.formItemLayout,!1),[o("a-switch",{model:{value:e.enable,callback:function(o){t.$set(e,"enable",o)},expression:"item.enable"}})],1),o("a-form-model-item",{attrs:{wrapperCol:t.formBtnLayout.wrapperCol}},[o("a-space",[o("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEdit(a)}}},[t._v(t._s(t.$t("view.save")))]),o("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleDel(a)}}},[t._v(t._s(t.$t("view.delete")))])],1)],1)],1)],1)],1)}}])}),o("a-modal",{attrs:{visible:t.modal.visible,title:t.modal.title,cancelText:t.$t("view.cancelText"),okText:t.$t("view.okText")},on:{cancel:t.hideModal,ok:t.handleAdd}},[o("a-form-model",{ref:"modalForm",attrs:{rules:t.rules,model:t.modal.form}},[o("a-form-model-item",t._b({attrs:{prop:"host",label:"Host"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:t.modal.form.host,callback:function(e){t.$set(t.modal.form,"host",e)},expression:"modal.form.host"}})],1),o("a-form-model-item",t._b({attrs:{prop:"port",label:"Port"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input-number",{attrs:{min:0},model:{value:t.modal.form.port,callback:function(e){t.$set(t.modal.form,"port",e)},expression:"modal.form.port"}})],1),o("a-form-model-item",t._b({attrs:{prop:"username",label:"Username"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:t.modal.form.username,callback:function(e){t.$set(t.modal.form,"username",e)},expression:"modal.form.username"}})],1),o("a-form-model-item",t._b({attrs:{prop:"password",label:"Password"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:t.modal.form.password,callback:function(e){t.$set(t.modal.form,"password",e)},expression:"modal.form.password"}})],1),o("a-form-model-item",t._b({attrs:{prop:"mountpoint",label:"Mountpoint"}},"a-form-model-item",t.formItemLayout,!1),[o("a-input",{model:{value:t.modal.form.mountpoint,callback:function(e){t.$set(t.modal.form,"mountpoint",e)},expression:"modal.form.mountpoint"}})],1),o("a-form-model-item",t._b({attrs:{prop:"enable",label:"Enable"}},"a-form-model-item",t.formItemLayout,!1),[o("a-switch",{model:{value:t.modal.form.enable,callback:function(e){t.$set(t.modal.form,"enable",e)},expression:"modal.form.enable"}})],1)],1)],1)],1)},m=[],r={name:"Ntripcaster",data:function(){return{data:[],formItemLayout:{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:17}}},formBtnLayout:{wrapperCol:{xs:{span:24},sm:{offset:7,span:17}}},modal:{visible:!1,ids:[],title:"",form:{host:"",port:0,username:"",password:"",mountpoint:"",enable:!1}},rules:{host:[{required:!0,type:"string",min:1,message:this.$t("view.hostTip"),trigger:"blur"}],port:[{required:!0,type:"integer",min:1,message:this.$t("view.portTip"),trigger:"blur"}],username:[{required:!0,type:"string",min:1,message:this.$t("view.usernameTip"),trigger:"blur"}],password:[{required:!0,type:"string",min:1,message:this.$t("view.passwordTip"),trigger:"blur"}],mountpoint:[{required:!0,type:"string",min:1,message:this.$t("view.mountpointTip"),trigger:"blur"}]}}},computed:{},mounted:function(){var t=this;this.$socket.emit("NTRIP_LIST"),this.sockets.subscribe("NTRIP",(function(e){t.handleData(e)}))},methods:{handleData:function(t){switch(t.action){case"list":this.data=t.data;break;case"add":this.hideModal(),t.data.length>0&&(this.data=t.data);break}},add:function(){this.showModal()},showModal:function(){this.modal.form.host="",this.modal.form.port=0,this.modal.form.username="",this.modal.form.password="",this.modal.form.mountpoint="",this.modal.form.enable=!1,this.modal.title=this.$t("view.add"),this.modal.visible=!0},hideModal:function(){this.modal.visible=!1},handleAdd:function(){var t=this;this.$refs.modalForm.validate((function(e){if(!e)return!1;t.$socket.emit("NTRIP_ADD",t.modal.form)}))},handleDel:function(t){var e=this,o="".concat(this.data[t].host,"-").concat(this.data[t].mountpoint);this.$confirm({title:this.$t("view.delTitle",{title:o}),onOk:function(){e.$socket.emit("NTRIP_DEL",{idx:t})},onCancel:function(){},okText:this.$t("view.okText"),cancelText:this.$t("view.cancelText")})},handleEdit:function(t){var e=this,o="listForm".concat(t),a="".concat(this.data[t].host,"-").concat(this.data[t].mountpoint);this.$refs[o].validate((function(o){if(!o)return!1;e.$confirm({title:e.$t("view.editTitle",{title:a}),onOk:function(){var o=Object.assign(e.data[t],{idx:t});e.$socket.emit("NTRIP_EDIT",o)},onCancel:function(){},okText:e.$t("view.okText"),cancelText:e.$t("view.cancelText")})}))}}},i=r,s=(o("c540"),o("2877")),n=Object(s["a"])(i,a,m,!1,null,"5a69e3a1",null);e["default"]=n.exports},b2de:function(t,e,o){},c540:function(t,e,o){"use strict";o("b2de")}}]);